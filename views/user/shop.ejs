<!doctype html>
<html lang="en">


<!-- Mirrored from freshcart-tailwind.codescandy.com/shop-fullwidth.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 26 Dec 2024 13:19:04 GMT -->
<head>
	<!-- Required meta tags -->
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<link href="assets/libs/nouislider/dist/nouislider.min.css" rel="stylesheet" />
	<link href="assets/libs/tiny-slider/dist/tiny-slider.css" rel="stylesheet" />
	<link rel="shortcut icon" type="image/x-icon" href="assets/images/favicon/favicon.ico" />

<!-- Libs CSS -->
<link rel="preconnect" href="https://fonts.googleapis.com/" />
<link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&amp;display=swap" />
<link rel="stylesheet" href="../cdn.jsdelivr.net/npm/%40tabler/icons-webfont%402.46.0/tabler-icons.min.css" />
<link rel="stylesheet" href="assets/libs/simplebar/dist/simplebar.min.css" />

<!-- Theme CSS -->
<link rel="stylesheet" href="../assets/css/theme.min.css">
 <!-- Analytics Code -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-M8S4MT3EYG"></script>


<style>

	/* ===========================
   SHOP PAGE SUPER PREMIUM UI
=========================== */

/* Product Card Smooth Polish */
.card-product {
  border-radius: 16px !important;
  border: none;
  background: #ffffff;
  box-shadow: 0 4px 14px rgba(0,0,0,0.08);
  transition: 0.3s ease-in-out;
}

.card-product:hover {
  transform: translateY(-6px);
  box-shadow: 0 12px 28px rgba(0,0,0,0.12);
}

/* Product Image Zoom */
.card-product img {
  transition: 0.3s ease-in-out;
}
.card-product:hover img {
  transform: scale(1.1);
}

/* Discount Badge */
.product-card .absolute {
  border-radius: 8px !important;
  font-size: 11px !important;
  box-shadow: 0 3px 8px rgba(0,0,0,0.2);
}

/* Product Title */
.card-product h3 {
  font-size: 1.05rem;
  font-weight: 700;
  color: #111827;
}

/* Price Tag */
.card-product p {
  font-size: 1rem;
}

/* Add / View Button */
.card-product button {
  padding: 10px 24px;
  border-radius: 10px;
  background: #059669 !important;
  transition: 0.25s ease-in-out;
}
.card-product button:hover {
  background: #047857 !important;
}

/* ===========================
   FILTER BAR POLISH
=========================== */
#filtersBox {
  backdrop-filter: blur(12px);
  background: rgba(255,255,255,0.7);
  border-radius: 18px;
  padding: 20px;
  border: 1.5px solid #e5e7eb;
  box-shadow: 0 6px 20px rgba(0,0,0,0.08);
}

/* Filter Dropdowns */
#filtersBox select {
  border-radius: 10px;
  padding: 10px 14px;
  border: 2px solid #d1d5db;
  transition: 0.3s;
}
#filtersBox select:focus {
  border-color: #059669;
  box-shadow: 0 0 0 3px rgba(5,150,105,0.25);
}

/* Filter Buttons */
.filter-btn {
  border-radius: 10px;
  padding: 8px 18px;
  background: #f3f4f6;
  transition: 0.2s;
  font-weight: 500;
}
.filter-btn:hover {
  background: #059669;
  color: white;
  transform: translateY(-2px);
}

/* Price Slider */
#maxPriceRange {
  accent-color: #059669;
}

/* Apply Button */
#filterPriceBtn {
  border-radius: 10px;
  padding: 8px 16px;
  background: #059669;
}
#filterPriceBtn:hover {
  background: #047857;
}

/* ===========================
   SEARCH BAR POLISH
=========================== */
#searchProducts {
  border-radius: 14px;
  padding: 14px 18px;
  border: 2px solid #d1d5db;
  transition: 0.25s ease;
}

#searchProducts:focus {
  border-color: #059669;
  box-shadow: 0 0 0 4px rgba(5,150,105,0.2);
}

#searchResults {
  border-radius: 14px;
  overflow: hidden;
  background: white;
  box-shadow: 0 8px 25px rgba(0,0,0,0.15);
}

/* ===========================
   PAGINATION PREMIUM STYLE
=========================== */
#paginationBox a {
  border-radius: 10px;
  font-weight: 600;
  padding: 10px 18px;
}
#paginationBox a:hover {
  background: #f3f4f6;
}

/* Active Page */
#paginationBox .bg-green-600 {
  border-radius: 12px !important;
  font-weight: 700;
  box-shadow: 0 4px 12px rgba(5,150,105,0.4);
}

/* ===========================
   CATEGORY BADGE
=========================== */
.product-card p.text-gray-500 {
  font-size: 12px;
  background: #f3f4f6;
  padding: 4px 10px;
  border-radius: 8px;
  display: inline-block;
}

/* ===========================
   NO PRODUCTS SECTION POLISH
=========================== */
.no-products-box {
  animation: fadeIn 0.3s ease-in-out;
}
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

#searchResults {
  max-height: 200px;
  overflow-y: auto;
  width: 100%;
  z-index: 50;
}

</style>


<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }
    gtag("js", new Date());

    gtag("config", "G-M8S4MT3EYG");
</script>
<script type="text/javascript">
    (function (c, l, a, r, i, t, y) {
        c[a] =
            c[a] ||
            function () {
                (c[a].q = c[a].q || []).push(arguments);
            };
        t = l.createElement(r);
        t.async = 1;
        t.src = "https://www.clarity.ms/tag/" + i;
        y = l.getElementsByTagName(r)[0];
        y.parentNode.insertBefore(t, y);
    })(window, document, "clarity", "script", "mzh5eyaatk");
</script>
<!-- Affiliate tracking script -->
<script>window.lemonSqueezyAffiliateConfig = { store: "codescandy" };</script>
<script src="../lmsqueezy.com/affiliate.js" defer></script> <!-- buy now template button Remove if you do not want. -->
<div class="fixed bottom-0 right-0 m-4">
  
</div>

	<title>Shop </title>
</head>

<body>


	<header>
	<!-- navbar -->
	<div class="border-b">
		<div class="bg-gray-100 py-1">
			<div class="container">
			
			</div>
		</div>
		<div class="pt-5">
			<div class="container">
				<div class="flex flex-wrap w-full items-center justify-between">
					<div class="lg:w-1/6 md:w-1/2 w-2/5">
						<a class="navbar-brand" href="index.html">
							<img src="../assets/images/logo/Xe mart.png" alt="TailwindCSS eCommerce HTML Template" />
						</a>
					</div>
					<div class="lg:w-2/5 hidden lg:block">
						<form action="#">
						<div class="mb-4">



<!-- <div class="flex gap-2 relative">
  <input
    type="search"
    id="searchProducts"
    placeholder="Search for products"
    class="border border-gray-300 rounded-lg p-2 w-full focus:ring-green-600 focus:border-green-600"
    autocomplete="off"
  />
  <button id="searchBtn" class="px-4 py-2 bg-green-600 text-white rounded-lg">Search</button>
</div>


  <ul id="searchResults" class="absolute bg-white border rounded w-full mt-1 z-50 hidden"></ul> -->



  <div class="flex gap-2 relative mb-6">
  <input
    type="search"
    id="searchProducts"
    placeholder="üîç Search products..."
    class="border border-gray-300 rounded-lg p-3 w-full focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all outline-none pr-12"
    autocomplete="off" 
  />
  <button id="searchBtn" class="px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-all shadow-md">
    Search
  </button>
</div>

<!-- Live Search Dropdown -->
<ul id="searchResults" class="absolute bg-white border border-gray-200 rounded-lg w-full mt-1 z-50 hidden shadow-xl max-h-64 overflow-y-auto"></ul>

  
</div>
						</form>
					</div>
					<div class="lg:w-1/5 hidden lg:block">
						<!-- Button trigger modal -->
					
					</div>
					<div class="lg:w-1/5 text-end md:w-1/2 w-3/5">
						<div class="flex gap-7 items-center justify-end">
							<!-- <div>
								<a href="shop-wishlist.html" class="relative">
									<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-heart" width="24"
										height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
										stroke-linecap="round" stroke-linejoin="round">
										<path stroke="none" d="M0 0h24v24H0z" fill="none" />
										<path d="M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572" />
									</svg>
									<span
										class="absolute top-0 -mt-1 left-full rounded-full h-5 w-5 -ml-2 bg-green-600 text-white text-center font-semibold text-sm">
										5
										<span class="invisible">unread messages</span>
									</span>
								</a>
							</div> -->
							
<!-- <div>
  <a href="/signin" class="text-gray-600">
    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="22"
      height="22" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
      stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" />
      <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
    </svg>
  </a>
</div> -->





<!-- <div class="relative flex items-center gap-2">
  <div class="relative"> -->
    <!-- User button / SVG -->
   <!-- <a href="<%= user ? 'javascript:void(0)' : '/signin' %>" id="userDropdownBtn" class="flex items-center gap-2 text-gray-700 font-medium cursor-pointer">      
  <% if (user && user.firstName) { %>
    <span>Hi, <%= user.firstName %></span>
    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" style="pointer-events: none;">
      <path d="M1.5 5.5l6 6 6-6"/>
    </svg> -->
  <!-- <% } else { %>
    <span>Hi, Guest</span>
    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" style="pointer-events: none;">
      <path d="M0 0h24v24H0z" stroke="none"/>
      <path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0"/>
      <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"/>
    </svg>
  <% } %>
</a> -->

    <!-- Dropdown menu -->
    <!-- <% if (user) { %>
      <div id="userDropdown" class="hidden absolute right-0 mt-2 w-48 bg-white border rounded shadow-lg z-50">
		 <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" style="pointer-events: none;"></svg>
       <a href="/user/profile" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">
  Account Settings
</a>

        <form id="logoutForm" action="/logout" method="POST">
          <button type="submit" class="w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100">Logout</button>
        </form>
      </div>
    <% } %>
  </div>
</div> -->

 
<div class="relative flex items-center gap-4">

<a href="/wishlist" 
   class="flex items-center gap-2 text-gray-700 font-medium cursor-pointer hover:text-red-600 transition">

  <!-- Wishlist (Heart) SVG Icon -->
  <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" 
       fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
    <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
    <path d="M19.5 12.572l-7.5 7.428l-7.5-7.428a5 5 0 1 1 7.5-6.566a5 5 0 1 1 7.5 6.572"/>
  </svg>

  <!-- Optional Label -->
  <!-- <span>Wishlist</span> -->
</a>


  
  <!-- My Cards Button -->

 <a href="/card" 
     class="flex items-center gap-2 text-gray-700 font-medium cursor-pointer hover:text-blue-600 transition">
    
    <!-- Card SVG Icon -->
    <!-- <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <rect x="2" y="5" width="20" height="14" rx="2" />
      <line x1="2" y1="10" x2="22" y2="10" />
      <line x1="6" y1="15" x2="6.01" y2="15" />
      <line x1="10" y1="15" x2="14" y2="15" />
    </svg> -->
<svg fill="#000000" width="24" height="24" viewBox="0 0 24 24" id="cart" data-name="Line Color" xmlns="http://www.w3.org/2000/svg" class="icon line-color"><path id="secondary-upstroke" d="M11,20.5h.1m5.9,0h.1" style="fill: none; stroke: rgb(44, 169, 188); stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></path><path id="primary" d="M3,3H5.14a1,1,0,0,1,1,.85L6.62,7,8,16l11-1,2-8H6.62" style="fill: none; stroke: rgb(0, 0, 0); stroke-linecap: round; stroke-linejoin: round; stroke-width: 2;"></path></svg>
 
    <!-- <span>My Cards</span> -->
  </a>


  <!-- User Menu -->
  <div class="relative">
    <!-- User button -->
    <a href="<%= user ? 'javascript:void(0)' : '/signin' %>" 
       id="userDropdownBtn" 
       class="flex items-center gap-2 text-gray-700 font-medium cursor-pointer hover:text-blue-600 transition">

      <% if (user && user.firstName) { %>
        <span><%= user.firstName %></span>
        <!-- Dropdown Arrow -->
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" style="pointer-events: none;">
          <path d="M1.5 5.5l6 6 6-6"/>
        </svg>
      <% } else { %>
        <span></span>
        <!-- User Icon -->
        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" style="pointer-events: none;">
          <path d="M0 0h24v24H0z" stroke="none"/>
          <path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0"/>
          <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"/>
        </svg>
      <% } %>
    </a>

    <!-- Dropdown menu -->
    <% if (user) { %>
      <div id="userDropdown" class="hidden absolute right-0 mt-2 w-48 bg-white border rounded shadow-lg z-50">
        <a href="/profile" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">
          Account Settings
        </a>
        <form id="logoutForm" action="/logout" method="POST">
          <button type="submit" class="w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100">
            Logout
          </button>
        </form>
      </div>
    <% } %>
  </div>
</div>







<!--  -->







							<!-- <div>
								<button type="button" class="text-gray-600 relative" data-bs-toggle="offcanvas"
									data-bs-target="#offcanvasRight" role="button" aria-controls="offcanvasRight">
									<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-shopping-bag" width="24"
										height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
										stroke-linecap="round" stroke-linejoin="round">
										<path stroke="none" d="M0 0h24v24H0z" fill="none" />
										<path
											d="M6.331 8h11.339a2 2 0 0 1 1.977 2.304l-1.255 8.152a3 3 0 0 1 -2.966 2.544h-6.852a3 3 0 0 1 -2.965 -2.544l-1.255 -8.152a2 2 0 0 1 1.977 -2.304z" />
										<path d="M9 11v-5a3 3 0 0 1 6 0v5" />
									</svg>
									<span id="cartCount"
										class="absolute top-0 -mt-1 left-full rounded-full h-5 w-5 -ml-3 bg-green-600 text-white text-center font-semibold text-sm">
										0
										<span class="invisible">unread messages</span>
									</span>
								</button>
							</div> -->
							<!-- <div class="lg:hidden leading-none"> -->
								<!-- Button -->
								<!-- <button class="collapsed" type="button" data-bs-toggle="offcanvas" data-bs-target="#navbar-default"
									aria-controls="navbar-default" aria-label="Toggle navigation">
									<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu-2 text-gray-800"
										width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none"
										stroke-linecap="round" stroke-linejoin="round">
										<path stroke="none" d="M0 0h24v24H0z" fill="none" />
										<path d="M4 6l16 0" />
										<path d="M4 12l16 0" />
										<path d="M4 18l16 0" />
									</svg>
								</button> -->
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<nav
			class="navbar relative navbar-expand-lg lg:flex lg:flex-wrap items-center content-between text-black navbar-default"
			aria-label="Offcanvas navbar large">
			<div class="container max-w-7xl mx-auto w-full xl:px-4 lg:px-0">
				<div class="offcanvas offcanvas-left lg:visible" tabindex="-1" id="navbar-default">
					<div class="offcanvas-header pb-1">
						<a href="index.html"><img src="../assets/images/logo/freshcart-logo.svg"
								alt="TailwindCSS eCommerce HTML Template" /></a>
						<button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close">
							<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x text-gray-700" width="24"
								height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
								stroke-linecap="round" stroke-linejoin="round">
								<path stroke="none" d="M0 0h24v24H0z" fill="none" />
								<path d="M18 6l-12 12" />
								<path d="M6 6l12 12" />
							</svg>
						</button>
					</div>
					<div class="offcanvas-body lg:flex lg:items-center">
						<div class="block lg:hidden mb-4">
							<form action="#">
								<div class="relative">
									<label for="searhNavbar" class="invisible hidden">Search</label>
									<input
										class="border border-gray-300 text-gray-900 rounded-lg focus:shadow-[0_0_0_.25rem_rgba(10,173,10,.25)] focus:ring-green-600 focus:ring-0 focus:border-green-600 block p-2 px-3 disabled:opacity-50 disabled:pointer-events-none w-full text-base"
										type="search" placeholder="Search for products" id="searhNavbar" />
									<button class="absolute right-0 top-0 p-3" type="button">
										<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="16"
											height="16" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
											stroke-linecap="round" stroke-linejoin="round">
											<path stroke="none" d="M0 0h24v24H0z" fill="none" />
											<path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" />
											<path d="M21 21l-6 -6" />
										</svg>
									</button>
								</div>
							</form>
						</div>
					
						</div>



						<div class="dropdown hidden lg:block">
							<button
								class="mr-4 btn inline-flex items-center gap-x-2 bg-green-600 text-white border-green-600 disabled:opacity-50 disabled:pointer-events-none hover:text-white hover:bg-green-700 hover:border-green-700 active:bg-green-700 active:border-green-700 focus:outline-none focus:ring-4 focus:ring-green-300"
								type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
								<span>
									<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-layout-grid" width="16"
										height="16" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
										stroke-linecap="round" stroke-linejoin="round">
										<path stroke="none" d="M0 0h24v24H0z" fill="none" />
										<path d="M4 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z" />
										<path d="M14 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z" />
										<path d="M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z" />
										<path d="M14 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z" />
									</svg>
								</span>
								All Departments
							</button>
							<ul class="dropdown-menu">
						</div>
						<div>
							<ul class="navbar-nav lg:flex gap-3 lg:items-center">
															<li class="nav-item w-full lg:w-auto">
  <a class="nav-link" href="/">Home</a>
</li>

								<li class="nav-item w-full lg:w-auto">
  <a class="nav-link" href="/shop">Shop</a>
</li>


								<li class="nav-item dropdown w-full lg:w-auto dropdown-fullwidth">
									<div class="dropdown-menu pb-0">
										<div class="flex flex-wrap lg:flex-nowrap p-2 lg:p-6 gap-x-6">
											<div class="lg:w-1/4 w-full mb-4">
										
											</div>

									
											<div class="lg:w-1/4 w-full mb-4">
												<div class="card border-0">
													<img src="../assets/images/banner/menu-banner.jpg"
														alt="TailwindCSS eCommerce HTML Template" />
													<div class="absolute pl-6 mt-8">
														<h5>
															Dont miss this
															<br />
															offer today.
														</h5>
														<a href="#"
															class="btn inline-flex items-center gap-x-2 bg-green-600 text-white border-green-600 disabled:opacity-50 disabled:pointer-events-none hover:text-white hover:bg-green-700 hover:border-green-700 active:bg-green-700 active:border-green-700 focus:outline-none focus:ring-4 focus:ring-green-300 btn-sm mt-3">
															Shop Now
														</a>
													</div>
												</div>
											</div>
										</div>
									</div>
								</li>

								<li class="nav-item dropdown w-full lg:w-auto dropdown-flyout">
									<div class="dropdown-menu dropdown-menu-lg lg:right-0 xl:right-auto">
										<a class="dropdown-item items-start" href="docs/index.html">
											<div>
												<svg xmlns="http://www.w3.org/2000/svg"
													class="icon icon-tabler icon-tabler-file-text text-green-500" width="24" height="24"
													viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round"
													stroke-linejoin="round">
													<path stroke="none" d="M0 0h24v24H0z" fill="none" />
													<path d="M14 3v4a1 1 0 0 0 1 1h4" />
													<path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" />
													<path d="M9 9l1 0" />
													<path d="M9 13l6 0" />
													<path d="M9 17l6 0" />
												</svg>
											</div>
											<div class="ml-3 leading-none">
												<h6 class="mb-1">Documentations</h6>
												<p class="text-sm">Browse the all documentation</p>
											</div>
										</a>
										<a class="dropdown-item items-start" href="docs/changelog.html">
											<div>
												<svg xmlns="http://www.w3.org/2000/svg"
													class="icon icon-tabler icon-tabler-box-multiple text-green-500" width="24" height="24"
													viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round"
													stroke-linejoin="round">
													<path stroke="none" d="M0 0h24v24H0z" fill="none" />
													<path d="M7 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z" />
													<path d="M17 17v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h2" />
												</svg>
											</div>
											<div class="ml-3 leading-none">
												<h6 class="mb-1">
													Changelog
													<span class="text-green-600 ml-1">v1.4.0</span>
												</h6>
												<p class="text-sm">See what's new</p>
											</div>
										</a>
									</div>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</nav>
	</div>
</header>



<!-- Shop Cart -->

<div class="offcanvas offcanvas-right" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
	<div class="offcanvas-header border-b">
		<div>
			<h5 id="offcanvasRightLabel">Shop Cart</h5>
			<span>Location in 382480</span>
		</div>
		<button type="button" class="btn-close text-inherit" data-bs-dismiss="offcanvas" aria-label="Close">
			<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x text-gray-700" width="24"
				height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round"
				stroke-linejoin="round">
				<path stroke="none" d="M0 0h24v24H0z" fill="none" />
				<path d="M18 6l-12 12" />
				<path d="M6 6l12 12" />
			</svg>
		</button>
	</div>
	<div class="offcanvas-body p-4">
		<div>
			<!-- alert -->
			<div class="bg-red-500 bg-opacity-25 text-red-800 mb-3 rounded-lg p-4" role="alert">
				You‚Äôve got FREE delivery. Start
				<a href="#!" class="alert-link">checkout now!</a>
			</div>
			<ul class="list-none">
				<!-- list group -->
				<li class="py-3 border-t">
					<div class="flex items-center">
						<div class="w-1/2 md:w-1/2 lg:w-3/5">
							<div class="flex">
								<img src="assets/images/products/product-img-1.jpg" alt="Ecommerce" class="w-16 h-16" />
								<div class="ml-3">
									<!-- title -->
									<a href="shop-single.html" class="text-inherit">
										<h6>Haldiram's Sev Bhujia</h6>
									</a>
									<span><small class="text-gray-500">.98 / lb</small></span>
									<!-- text -->
									<div class="mt-2 small leading-none">
										<a href="#!" class="text-green-600 flex items-center">
											<span class="mr-1 align-text-bottom">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-trash" width="14"
													height="14" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
													stroke-linecap="round" stroke-linejoin="round">
													<path stroke="none" d="M0 0h24v24H0z" fill="none" />
													<path d="M4 7l16 0" />
													<path d="M10 11l0 6" />
													<path d="M14 11l0 6" />
													<path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" />
													<path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" />
												</svg>
											</span>
											<span class="text-gray-500 text-sm">Remove</span>
										</a>
									</div>
								</div>
							</div>
						</div>
						<!-- input group -->
						<div class="w-1/3 md:w-1/4 lg:w-1/5">
							<!-- input -->
							<div class="input-group input-spinner rounded-lg flex justify-between items-center">
								<input type="button" value="-" class="button-minus w-8 py-1 border-r cursor-pointer border-gray-300"
									data-field="quantity" />
								<input type="number" step="1" max="10" value="1" name="quantity"
									class="quantity-field w-9 px-2 text-center h-7 border-0 bg-transparent" />
								<input type="button" value="+" class="button-plus w-8 py-1 border-l cursor-pointer border-gray-300"
									data-field="quantity" />
							</div>
						</div>
						<!-- price -->
						<div class="w-1/5 text-center md:w-1/5">
							<span class="font-bold text-gray-800">$5.00</span>
						</div>
					</div>
				</li>
				<!-- list group -->
				<li class="py-3 border-t">
					<div class="flex items-center">
						<div class="w-1/2 md:w-1/2 lg:w-3/5">
							<div class="flex">
								<img src="assets/images/products/product-img-2.jpg" alt="Ecommerce" class="w-16 h-16" />
								<div class="ml-3">
									<a href="shop-single.html" class="text-inherit">
										<h6>NutriChoice Digestive</h6>
									</a>
									<span><small class="text-gray-500">250g</small></span>
									<!-- text -->
									<div class="mt-2 small leading-none">
										<a href="#!" class="text-green-600 flex items-center">
											<span class="mr-1 align-text-bottom">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-trash" width="14"
													height="14" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
													stroke-linecap="round" stroke-linejoin="round">
													<path stroke="none" d="M0 0h24v24H0z" fill="none" />
													<path d="M4 7l16 0" />
													<path d="M10 11l0 6" />
													<path d="M14 11l0 6" />
													<path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" />
													<path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" />
												</svg>
											</span>
											<span class="text-gray-500 text-sm">Remove</span>
										</a>
									</div>
								</div>
							</div>
						</div>

						<!-- input group -->
						<div class="w-1/3 md:w-1/4 lg:w-1/5">
							<!-- input -->
							<div class="input-group input-spinner rounded-lg flex justify-between items-center">
								<input type="button" value="-" class="button-minus w-8 py-1 border-r cursor-pointer border-gray-300"
									data-field="quantity" />
								<input type="number" step="1" max="10" value="1" name="quantity"
									class="quantity-field w-9 px-2 text-center h-7 border-0 bg-transparent" />
								<input type="button" value="+" class="button-plus w-8 py-1 border-l cursor-pointer border-gray-300"
									data-field="quantity" />
							</div>
						</div>
						<!-- price -->
						<div class="w-1/5 text-center md:w-1/5">
							<span class="font-bold text-red-600">$20.00</span>
							<div class="line-through text-gray-500 small">$26.00</div>
						</div>
					</div>
				</li>
				<!-- list group -->
				<li class="py-3 border-t">
					<div class="flex items-center">
						<div class="w-1/2 md:w-1/2 lg:w-3/5">
							<div class="flex">
								<img src="assets/images/products/product-img-3.jpg" alt="Ecommerce" class="w-16 h-16" />
								<div class="ml-3">
									<!-- title -->
									<a href="shop-single.html" class="text-inherit">
										<h6>Cadbury 5 Star Chocolate</h6>
									</a>
									<span><small class="text-gray-500">1 kg</small></span>
									<!-- text -->
									<div class="mt-2 small leading-none">
										<a href="#!" class="text-green-600 flex items-center">
											<span class="mr-1 align-text-bottom">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-trash" width="14"
													height="14" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
													stroke-linecap="round" stroke-linejoin="round">
													<path stroke="none" d="M0 0h24v24H0z" fill="none" />
													<path d="M4 7l16 0" />
													<path d="M10 11l0 6" />
													<path d="M14 11l0 6" />
													<path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" />
													<path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" />
												</svg>
											</span>
											<span class="text-gray-500 text-sm">Remove</span>
										</a>
									</div>
								</div>
							</div>
						</div>

						<!-- input group -->
						<div class="w-1/3 md:w-1/4 lg:w-1/5">
							<!-- input -->
							<div class="input-group input-spinner rounded-lg flex justify-between items-center">
								<input type="button" value="-" class="button-minus w-8 py-1 border-r cursor-pointer border-gray-300"
									data-field="quantity" />
								<input type="number" step="1" max="10" value="1" name="quantity"
									class="quantity-field w-9 px-2 text-center h-7 border-0 bg-transparent" />
								<input type="button" value="+" class="button-plus w-8 py-1 border-l cursor-pointer border-gray-300"
									data-field="quantity" />
							</div>
						</div>
						<!-- price -->
						<div class="w-1/5 text-center md:w-1/5">
							<span class="font-bold text-gray-800">$15.00</span>
							<div class="line-through text-gray-500 small">$20.00</div>
						</div>
					</div>
				</li>
				<!-- list group -->
				<li class="py-3 border-t">
					<div class="flex items-center">
						<div class="w-1/2 md:w-1/2 lg:w-3/5">
							<div class="flex">
								<img src="assets/images/products/product-img-4.jpg" alt="Ecommerce" class="w-16 h-16" />
								<div class="ml-3">
									<!-- title -->
									<!-- title -->
									<a href="shop-single.html" class="text-inherit">
										<h6>Onion Flavour Potato</h6>
									</a>
									<span><small class="text-gray-500">250g</small></span>
									<!-- text -->
									<div class="mt-2 small leading-none">
										<a href="#!" class="text-green-600 flex items-center">
											<span class="mr-1 align-text-bottom">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-trash" width="14"
													height="14" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
													stroke-linecap="round" stroke-linejoin="round">
													<path stroke="none" d="M0 0h24v24H0z" fill="none" />
													<path d="M4 7l16 0" />
													<path d="M10 11l0 6" />
													<path d="M14 11l0 6" />
													<path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" />
													<path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" />
												</svg>
											</span>
											<span class="text-gray-500 text-sm">Remove</span>
										</a>
									</div>
								</div>
							</div>
						</div>

						<!-- input group -->
						<div class="w-1/3 md:w-1/4 lg:w-1/5">
							<!-- input -->
							<div class="input-group input-spinner rounded-lg flex justify-between items-center">
								<input type="button" value="-" class="button-minus w-8 py-1 border-r cursor-pointer border-gray-300"
									data-field="quantity" />
								<input type="number" step="1" max="10" value="1" name="quantity"
									class="quantity-field w-9 px-2 text-center h-7 border-0 bg-transparent" />
								<input type="button" value="+" class="button-plus w-8 py-1 border-l cursor-pointer border-gray-300"
									data-field="quantity" />
							</div>
						</div>
						<!-- price -->
						<div class="w-1/5 text-center md:w-1/5">
							<span class="font-bold text-gray-800">$15.00</span>
							<div class="line-through text-gray-500 small">$20.00</div>
						</div>
					</div>
				</li>
				<!-- list group -->
				<li class="py-3 border-t border-b">
					<div class="flex items-center">
						<div class="w-1/2 md:w-1/2 lg:w-3/5">
							<div class="flex">
								<img src="assets/images/products/product-img-5.jpg" alt="Ecommerce" class="w-16 h-16" />
								<div class="ml-3">
									<!-- title -->
									<a href="shop-single.html" class="text-inherit">
										<h6>Salted Instant Popcorn</h6>
									</a>
									<span><small class="text-gray-500">100g</small></span>
									<!-- text -->
									<div class="mt-2 small leading-none">
										<a href="#!" class="text-green-600 flex items-center">
											<span class="mr-1 align-text-bottom">
												<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-trash" width="14"
													height="14" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
													stroke-linecap="round" stroke-linejoin="round">
													<path stroke="none" d="M0 0h24v24H0z" fill="none" />
													<path d="M4 7l16 0" />
													<path d="M10 11l0 6" />
													<path d="M14 11l0 6" />
													<path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" />
													<path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" />
												</svg>
											</span>
											<span class="text-gray-500 text-sm">Remove</span>
										</a>
									</div>
								</div>
							</div>
						</div>

						<!-- input group -->
						<div class="w-1/3 md:w-1/4 lg:w-1/5">
							<!-- input -->
							<div class="input-group input-spinner rounded-lg flex justify-between items-center">
								<input type="button" value="-" class="button-minus w-8 py-1 border-r cursor-pointer border-gray-300"
									data-field="quantity" />
								<input type="number" step="1" max="10" value="1" name="quantity"
									class="quantity-field w-9 px-2 text-center h-7 border-0 bg-transparent" />
								<input type="button" value="+" class="button-plus w-8 py-1 border-l cursor-pointer border-gray-300"
									data-field="quantity" />
							</div>
						</div>
						<!-- price -->
						<div class="w-1/5 text-center md:w-1/5">
							<span class="font-bold text-gray-800">$15.00</span>
							<div class="line-through text-gray-500 small">$25.00</div>
						</div>
					</div>
				</li>
			</ul>
			<!-- btn -->
			<div class="flex justify-between mt-4">
				<a href="#!"
					class="btn inline-flex items-center gap-x-2 bg-green-600 text-white border-green-600 disabled:opacity-50 disabled:pointer-events-none hover:text-white hover:bg-green-700 hover:border-green-700 active:bg-green-700 active:border-green-700 focus:outline-none focus:ring-4 focus:ring-green-300">
					Continue Shopping
				</a>
				<a href="#!"
					class="btn inline-flex items-center gap-x-2 bg-gray-800 text-white border-gray-800 disabled:opacity-50 disabled:pointer-events-none hover:text-white hover:bg-gray-900 hover:border-gray-900 active:bg-gray-900 active:border-gray-900 focus:outline-none focus:ring-4 focus:ring-gray-300">
					Update Cart
				</a>
			</div>
		</div>
	</div>
</div>

<!-- Modal -->

	<main>
		<div class="mt-4">
			<div class="container">
				<div class="flex flex-wrap">
					<div class="w-full">
						<!-- breadcrumb -->
						<nav aria-label="breadcrumb">
							<ol class="flex flex-wrap">
								<li class="inline-block text-green-600 mr-2">
									<a href="/">
										Home
										<svg xmlns="http://www.w3.org/2000/svg"
											class="icon icon-tabler icon-tabler-chevron-right inline-block" width="14"
											height="14" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
											fill="none" stroke-linecap="round" stroke-linejoin="round">
											<path stroke="none" d="M0 0h24v24H0z" fill="none" />
											<path d="M9 6l6 6l-6 6" />
										</svg>
									</a>
								</li>
								<li class="inline-block text-green-600 mr-2">
									<a href="/shop">
										Shop

										<svg xmlns="http://www.w3.org/2000/svg"
											class="icon icon-tabler icon-tabler-chevron-right inline-block" width="14"
											height="14" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
											fill="none" stroke-linecap="round" stroke-linejoin="round">
											<path stroke="none" d="M0 0h24v24H0z" fill="none" />
											<path d="M9 6l6 6l-6 6" />
										</svg>
									</a>
								</li>
								<!-- <li class="inline-block text-gray-500 active" aria-current="page">Snacks & Munchies</li> -->
							</ol>
						</nav>
					</div>
				</div>
			</div>
		</div>






	






	<section class="lg:my-14 my-8">
			<div class="container">
				<!-- list icon -->
				<div class="flex flex-col md:flex-row justify-between lg:items-center mb-6 gap-3">
					<div>
						
					

					<!-- icon -->
					<div class="flex flex-row justify-between md:items-center gap-3">
						

					<!-- PREMIUM FILTER BAR -->
<div id="filtersBox" class="w-full backdrop-blur-sm bg-white/70 shadow-lg border border-gray-200 rounded-xl p-4 flex flex-wrap items-center justify-between gap-4">

  <!-- CATEGORY -->
  <div class="flex items-center gap-2">
    <span class="text-green-700 text-lg">üè∑Ô∏è</span>
    <select id="categorySelect"
            onchange="filterProductsByCategory()"
            class="py-2 px-4 text-sm font-medium border border-gray-300 rounded-lg focus:border-green-600 focus:ring-green-600 min-w-[180px] hover:border-green-500 transition">
      <option value="all" selected>All Categories</option>
      <% categories.forEach(category => { %>
        <% if (!category.isBlocked && !category.isDeleted) { %>
          <option value="<%= category._id %>"><%= category.name %></option>
        <% } %>
      <% }) %>
    </select>
  </div>

  <!-- SORT BUTTONS -->
  <div class="flex items-center gap-3">
    <span class="text-green-700 text-lg">‚ú®</span>
    <div class="flex gap-2">
      <button class="filter-btn px-4 py-2 bg-gray-100 rounded-lg hover:bg-green-600 hover:text-white text-sm shadow-sm transition" data-sort="popularity">
        Popular
      </button>
      <button class="filter-btn px-4 py-2 bg-gray-100 rounded-lg hover:bg-green-600 hover:text-white text-sm shadow-sm transition" data-sort="ratings">
        Ratings
      </button>
      <button class="filter-btn px-4 py-2 bg-gray-100 rounded-lg hover:bg-green-600 hover:text-white text-sm shadow-sm transition" data-sort="new">
        New
      </button>
    </div>
  </div>

  <!-- SORT DROPDOWN -->
  <div class="flex items-center gap-2">
    <span class="text-green-700 text-lg">üîΩ</span>
    <select id="sortSelect"
            class="text-sm py-2 px-3 border border-gray-300 rounded-lg bg-white shadow-sm focus:border-green-600 hover:border-green-600 transition w-44">
      <option selected disabled>Sort by</option>
      <option value="lowToHigh">üí∞ Low ‚Üí High</option>
      <option value="highToLow">üí∏ High ‚Üí Low</option>
      <option value="nameAToZ">A ‚Üí Z</option>
      <option value="nameZToA">Z ‚Üí A</option>
    </select>
  </div>

  <!-- PRICE RANGE -->
  <div class="flex items-center gap-3">
    <span class="text-green-700 text-lg">üíµ</span>
    <span id="priceRangeValue" class="text-sm font-semibold text-green-700">0 - 10000</span>
    <input type="range" id="maxPriceRange" min="0" max="10000" step="500" value="10000"
           class="w-40 accent-green-600 rounded-full">
    <button id="filterPriceBtn"
            class="px-4 py-2 bg-green-600 text-white rounded-lg text-sm shadow hover:bg-green-700 transition">
      Apply
    </button>
  </div>

  <!-- CLEAR FILTER BUTTON -->
  <button id="clearFiltersBtn"
          onclick="window.location.href='/shop'"
          class="flex items-center gap-2 px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 shadow transition">
    ‚ùå Clear
  </button>

</div>

						
						
					</div>					
				</div>
				</div>

				<div class="flex flex-wrap">
					<div class="w-full mb-6">
						<h2 class="text-lg">Popular Products</h2>
						
					</div>
					
				</div>





<!-- Grid View -->

<!-- <div id="productContainer" class="grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4 mb-8">
  <% if (products && products.length > 0) { %>
    <% products.forEach(product => { 
         const basePrice = product.prices && product.prices.find(p => p>0) ? product.prices.find(p=>p>0) : 0;
         const offerPercentage = product.offer ? product.offer.offerPercentage : 0;
         const finalPrice = offerPercentage > 0 ? Math.floor(basePrice - (basePrice * offerPercentage / 100)) : basePrice;

         let imgToShow = (product.images && product.images.length > 0) 
                          ? product.images[0] 
                          : (product.productPic && product.productPic.length > 0) 
                            ? product.productPic[0] 
                            : "images/default-product.jpg";
    %>

      <div class="product-card relative rounded-lg border bg-white border-gray-300 shadow p-4 mb-6 card-product w-full mx-auto"
           data-category="<%= product.category ? product.category._id : '' %>"
           data-name="<%= product.name %>"
           data-price="<%= finalPrice %>">

        <% if(offerPercentage > 0){ %>
          <div class="absolute top-2 left-2 bg-red-600 text-white text-xs font-bold px-2 py-1 rounded">
            <%= offerPercentage %>% OFF
          </div>
        <% } %>

        <div class="flex flex-col h-full">
          <div class="flex-1 mb-3 overflow-hidden rounded mx-auto" style="width:200px; height:200px;">
            <img src="<%= imgToShow.startsWith('http') || imgToShow.startsWith('/') ? imgToShow : '/' + imgToShow %>" 
                 alt="<%= product.name %>" 
                 style="width:200px; height:200px; object-fit:cover;">
          </div>

          <div class="flex flex-col justify-end items-center mt-auto">
            <% if(product.category && product.category.name){ %>
              <p class="text-gray-500 text-sm mb-1 text-center"><%= product.category.name %></p>
            <% } %>

            <h3 class="text-center text-lg font-semibold mb-1 truncate w-full"><%= product.name %></h3>

            <% if(offerPercentage > 0){ %>
              <p class="text-green-600 font-bold mb-3 text-center">
                ‚Çπ<%= finalPrice %> 
                <span class="line-through text-gray-400 text-sm">‚Çπ<%= basePrice %></span>
              </p>
            <% } else { %>
              <p class="text-green-600 font-bold mb-3 text-center">
                ‚Çπ<%= basePrice %>
              </p>
            <% } %>

            <a href="/product/<%= product._id %>">
              <button class="bg-green-600 text-white text-sm px-3 py-1 rounded hover:bg-green-700">
                Add
              </button>
            </a>

          </div>
        </div>
      </div>

    <% }) %>

  <% } else { %>
    <p class="text-center text-gray-500 col-span-full">No products available</p>
  <% } %>
</div> -->

<!-- 
 <% if (query && query.trim()) { %>
      <div class="mb-8 p-4 bg-blue-50 border border-blue-200 rounded-xl">
        <h1 class="text-2xl font-bold text-blue-900">
          <i class="fas fa-search mr-2"></i>
          <%= searchMessage || `Showing results for "${query}"` %>
          <span class="text-sm font-normal text-blue-700 ml-2">
            (<%= allProductsCount || 0 %> products)
          </span>
        </h1>
        <% if (categoryFilter && categoryFilter !== 'all') { %>
          <p class="text-sm text-blue-600 mt-1">
            <i class="fas fa-filter mr-1"></i>Category: <%= categoryFilter %>
          </p>
        <% } %>
      </div>
    <% } %> -->

    <!-- Products Grid -->
    <div id="productContainer" class="grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4 mb-8">
      
      <% if (products && products.length > 0) { %>
        <% products.forEach(product => { 
          const basePrice = product.prices && product.prices.find(p => p > 0) ? product.prices.find(p => p > 0) : 0;
          const offerPercentage = product.offer ? product.offer.offerPercentage : 0;
          const finalPrice = offerPercentage > 0 ? Math.floor(basePrice - (basePrice * offerPercentage / 100)) : basePrice;

          let imgToShow = (product.images && product.images.length > 0) 
            ? product.images[0] 
            : (product.productPic && product.productPic.length > 0) 
              ? product.productPic[0] 
              : "images/default-product.jpg";
        %>

          <div class="product-card relative rounded-lg border bg-white border-gray-300 shadow p-4 mb-6 card-product w-full mx-auto hover:shadow-xl hover:scale-[1.02] transition-all duration-200"
               data-category="<%= product.category ? product.category._id : '' %>"
               data-name="<%= product.name %>"
               data-price="<%= finalPrice %>">

            <% if(offerPercentage > 0){ %>
              <div class="absolute top-2 left-2 bg-red-600 text-white text-xs font-bold px-2 py-1 rounded shadow-md">
                <%= offerPercentage %>% OFF
              </div>
            <% } %>

            <div class="flex flex-col h-full">
              <div class="flex-1 mb-3 overflow-hidden rounded mx-auto" style="width:200px; height:200px;">
                <img src="<%= imgToShow.startsWith('http') || imgToShow.startsWith('/') ? imgToShow : '/' + imgToShow %>" 
                     alt="<%= product.name %>" 
                     style="width:200px; height:200px; object-fit:cover;"
                     class="hover:scale-110 transition-transform duration-300 w-full h-full">
              </div>

              <div class="flex flex-col justify-end items-center mt-auto">
                <% if(product.category && product.category.name){ %>
                  <p class="text-gray-500 text-sm mb-1 text-center"><%= product.category.name %></p>
                <% } %>

                <h3 class="text-center text-lg font-semibold mb-1 truncate w-full text-gray-900"><%= product.name %></h3>

                <% if(offerPercentage > 0){ %>
                  <p class="text-green-600 font-bold mb-3 text-center">
                    ‚Çπ<%= finalPrice %> 
                    <span class="line-through text-gray-400 text-sm">‚Çπ<%= basePrice %></span>
                  </p>
                <% } else { %>
                  <p class="text-green-600 font-bold mb-3 text-center">
                    ‚Çπ<%= basePrice %>
                  </p>
                <% } %>

                <a href="/product/<%= product._id %>">
                  <button class="bg-green-600 hover:bg-green-700 text-white text-sm px-6 py-2 rounded-lg font-medium transition-all w-full shadow-md">
                    View Product
                  </button>
                </a>
              </div>
            </div>
          </div>

        <% }) %>

      <% } else { %>
        <!-- üî• SIMPLE CENTERED NO PRODUCTS MESSAGE -->
        <div class="col-span-full flex flex-col items-center justify-center py-16 px-4">
          <div class="text-center max-w-md space-y-4">
            
            <!-- Simple Icon -->
            <div class="w-20 h-20 mx-auto bg-gray-100 rounded-2xl flex items-center justify-center">
              <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
              </svg>
            </div>

            <!-- Title + Message -->
            <div class="space-y-1">
              <h3 class="text-xl font-bold text-gray-900">No products found</h3>
              <% if (query && query.trim()) { %>
                <p class="text-gray-600">No products match "<strong><%= query %></strong>"</p>
              <% } else { %>
                <p class="text-gray-600">No products available</p>
              <% } %>
            </div>

            <!-- Home Button Only -->
            <a href="/shop" class="inline-block bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg font-semibold transition-all shadow-md">
              ‚Üê Go to shop
            </a>
          </div>
        </div>
      <% } %>
    </div>

    <!-- Pagination (Only show if products exist) -->
    <!-- <% if (products && products.length > 0 && pages > 1) { %>
      <div class="flex justify-center mt-12 mb-8">
        <div class="flex bg-white rounded-lg shadow-md p-1">
          <% for(let i = 1; i <= pages; i++) { %>
            <a href="/shop?page=<%= i %>&sort=<%= sort || 'newest' %>&query=<%= query || '' %>&category=<%= categoryFilter || 'all' %>" 
               class="px-4 py-2 mx-1 rounded-md font-medium transition-all <%= i === current ? 'bg-green-600 text-white shadow-md' : 'text-gray-700 hover:bg-gray-100 hover:shadow-sm' %>">
              <%= i %>
            </a>
          <% } %>
        </div>
      </div>
    <% } %> -->


	<% if (products && products.length > 0 && pages > 1) { %>
  <div id="paginationBox" class="flex justify-center mt-12 mb-8">
    <div class="flex bg-white rounded-lg shadow-md p-1">
      <% for(let i = 1; i <= pages; i++) { %>
        <a href="/shop?page=<%= i %>&sort=<%= sort || 'newest' %>&query=<%= query || '' %>&category=<%= categoryFilter || 'all' %>" 
           class="px-4 py-2 mx-1 rounded-md font-medium transition-all <%= i === current ? 'bg-green-600 text-white shadow-md' : 'text-gray-700 hover:bg-gray-100 hover:shadow-sm' %>">
          <%= i %>
        </a>
      <% } %>
    </div>
  </div>
<% } %>


<!-- Grid View -->
<!-- <div id="productContainer" class="grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-4 mb-8">
  <% if (products && products.length > 0) { %>
    <% products.forEach(product => { %>
      <div class="product-card relative rounded-lg border bg-white border-gray-300 shadow p-4 mb-6 card-product w-full mx-auto"
           data-category="<%= product.category ? product.category._id : '' %>"
           data-name="<%= product.name %>"
           data-price="<%= product.prices && product.prices.length > 0 ? product.prices.find(p => p > 0) || 0 : 0 %>">
        <div class="flex flex-col h-full">
          <div class="flex-1 mb-3 overflow-hidden rounded mx-auto" style="width:200px; height:200px;">
            <% 
              let imgToShow = (product.images && product.images.length > 0) 
                              ? product.images[0] 
                              : (product.productPic && product.productPic.length > 0) 
                                ? product.productPic[0] 
                                : "images/default-product.jpg"; 
            %>
            <img src="<%= imgToShow.startsWith('http') || imgToShow.startsWith('/') ? imgToShow : '/' + imgToShow %>" 
                 alt="<%= product.name %>" 
                 style="width:200px; height:200px; object-fit:cover;">
          </div>

          <div class="flex flex-col justify-end items-center mt-auto">
            <% if(product.category && product.category.name){ %>
              <p class="text-gray-500 text-sm mb-1 text-center"><%= product.category.name %></p>
            <% } %>

            <h3 class="text-center text-lg font-semibold mb-1 truncate w-full"><%= product.name %></h3>

            <p class="text-green-600 font-bold mb-3 text-center">
              ‚Çπ<%= product.prices && product.prices.length > 0 ? product.prices.find(p => p > 0) || 0 : 0 %>
            </p>

            <a href="/product/<%= product._id %>">
              <button class="bg-green-600 text-white text-sm px-3 py-1 rounded hover:bg-green-700">
                Add
              </button>
            </a>
          </div>
        </div>
      </div>
    <% }) %>
  <% } else { %>
    <p class="text-center text-gray-500 col-span-full">No products available</p>
  <% } %>
</div> -->







		</section>




		
	</main>
	<!-- footer -->
<footer class="bg-gray-200 py-8">
	<div class="container">
		<div class="flex flex-wrap md:gap-4 lg:gap-0 py-4 mb-6">
			<div class="w-full md:w-full lg:w-1/3 flex flex-col gap-4 mb-6">
				<h6>Categories</h6>
				<div class="flex flex-wrap">
					<div class="w-1/2">
						<!-- list -->
						<ul class="flex flex-col gap-2">
							<li><a href="#!" class="inline-block hover:text-green-600">Vegetables & Fruits</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Breakfast & instant food</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Bakery & Biscuits</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Atta, rice & dal</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Sauces & spreads</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Organic & gourmet</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Baby care</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Cleaning essentials</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Personal care</a></li>
						</ul>
					</div>
					<div class="w-1/2">
						<!-- list -->
						<ul class="flex flex-col gap-2">
							<li><a href="#!" class="inline-block hover:text-green-600">Dairy, bread & eggs</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Cold drinks & juices</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Tea, coffee & drinks</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Masala, oil & more</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Chicken, meat & fish</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Paan corner</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Pharma & wellness</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Home & office</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Pet care</a></li>
						</ul>
					</div>
				</div>
			</div>
			<div class="w-full md:w-full lg:w-2/3">
				<div class="flex flex-wrap">
					<div class="w-1/2 sm:w-1/2 md:w-1/4 flex flex-col gap-4 mb-6">
						<h6>Get to know us</h6>
						<!-- list -->
						<ul class="flex flex-col gap-2">
							<li><a href="#!" class="inline-block hover:text-green-600">Company</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">About</a></li>
							<li><a href="#!" class="inline-block">Blog</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Help Center</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Our Value</a></li>
						</ul>
					</div>
					<div class="w-1/2 sm:w-1/2 md:w-1/4 flex flex-col gap-4 mb-6">
						<h6>For Consumers</h6>
						<ul class="flex flex-col gap-2">
							<!-- list -->
							<li><a href="#!" class="inline-block hover:text-green-600">Payments</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Shipping</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Product Returns</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">FAQ</a></li>
							<li><a href="shop-checkout.html" class="inline-block">Shop Checkout</a></li>
						</ul>
					</div>
					<div class="w-1/2 sm:w-1/2 md:w-1/4 flex flex-col gap-4">
						<h6>Become a Shopper</h6>
						<ul class="flex flex-col gap-2">
							<!-- list -->
							<li><a href="#!" class="inline-block hover:text-green-600">Shopper Opportunities</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Become a Shopper</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Earnings</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Ideas & Guides</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">New Retailers</a></li>
						</ul>
					</div>
					<div class="w-1/2 sm:w-1/2 md:w-1/4 flex flex-col gap-4">
						<h6>Freshcart programs</h6>
						<ul class="flex flex-col gap-2">
							<!-- list -->
							<li><a href="#!" class="inline-block hover:text-green-600">Freshcart programs</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Gift Cards</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Promos & Coupons</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Freshcart Ads</a></li>
							<li><a href="#!" class="inline-block hover:text-green-600">Careers</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		<div class="border-t py-4 border-gray-300">
			<div class="gap-y-4 flex flex-wrap items-center justify-center lg:justify-start">
				<div class="lg:w-2/5 lg:text-left text-center">
					<div class="flex md:flex-row flex-col gap-3 md:gap-6 items-center">
						<div class="text-gray-900">Payment Partners</div>
						<ul class="flex items-center flex-row gap-4">
							<li>
								<a href="#!"><img src="assets/images/payment/amazonpay.svg" alt="amazon pay" /></a>
							</li>
							<li>
								<a href="#!"><img src="assets/images/payment/american-express.svg" alt="american express" /></a>
							</li>
							<li>
								<a href="#!"><img src="assets/images/payment/mastercard.svg" alt="mastercard" /></a>
							</li>
							<li>
								<a href="#!"><img src="assets/images/payment/paypal.svg" alt="paypal" /></a>
							</li>
							<li>
								<a href="#!"><img src="assets/images/payment/visa.svg" alt="visa" /></a>
							</li>
						</ul>
					</div>
				</div>
				<div class="lg:w-3/5 flex justify-end">
					<div class="flex flex-col md:flex-row items-center gap-3 md:gap-6">
						<div class="text-gray-900">Get deliveries with FreshCart</div>
						<ul class="flex flex-row gap-2">
							<li>
								<a href="#!"><img src="assets/images/appbutton/appstore-btn.svg" alt="" style="width: 140px" /></a>
							</li>
							<li>
								<a href="#!"><img src="assets/images/appbutton/googleplay-btn.svg" alt="" style="width: 140px" /></a>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		<div class="border-t py-4 border-gray-300">
			<div class="flex flex-col md:flex-row items-center gap-3">
				<div class="md:w-1/2">
					<span class="text-sm text-gray-500">
						¬©
						<span id="copyright">
							<script>
								document.getElementById('copyright').appendChild(document.createTextNode(new Date().getFullYear()));
							</script>
						</span>
						FreshCart TailwindCSS eCommerce HTML Template. Powered by
						<a href="https://codescandy.com/" target="_blank" class="text-green-600">Codescandy</a>
						.
					</span>
				</div>
				<div class="md:w-1/2 flex md:justify-end items-center">
					<div class="flex flex-row gap-5 items-center">
						<div class="text-gray-500">Follow us on</div>
						<ul class="flex items-center justify-end text-sm gap-1">
							<li>
								<a
									href="#!"
									class="inline-flex justify-center items-center align-middle text-center select-none border font-normal whitespace-no-wrap rounded leading-normal no-underline h-8 w-8 border-gray-300 hover:border-green-600 hover:text-green-600 transition ease-in-out"
								>
									<svg
										xmlns="http://www.w3.org/2000/svg"
										class="icon icon-tabler icon-tabler-brand-facebook"
										width="16"
										height="16"
										viewBox="0 0 24 24"
										stroke-width="1.5"
										stroke="currentColor"
										fill="none"
										stroke-linecap="round"
										stroke-linejoin="round"
									>
										<path stroke="none" d="M0 0h24v24H0z" fill="none" />
										<path d="M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3" />
									</svg>
								</a>
							</li>
							<li>
								<a
									href="#!"
									class="inline-flex justify-center items-center align-middle text-center select-none border font-normal whitespace-no-wrap rounded leading-normal no-underline h-8 w-8 border-gray-300 hover:border-green-600 hover:text-green-600 transition ease-in-out"
								>
									<svg
										xmlns="http://www.w3.org/2000/svg"
										class="icon icon-tabler icon-tabler-brand-x"
										width="16"
										height="16"
										viewBox="0 0 24 24"
										stroke-width="1.5"
										stroke="currentColor"
										fill="none"
										stroke-linecap="round"
										stroke-linejoin="round"
									>
										<path stroke="none" d="M0 0h24v24H0z" fill="none" />
										<path d="M4 4l11.733 16h4.267l-11.733 -16z" />
										<path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772" />
									</svg>
								</a>
							</li>
							<li>
								<a
									href="#!"
									class="inline-flex justify-center items-center align-middle text-center select-none border font-normal whitespace-no-wrap rounded leading-normal no-underline h-8 w-8 border-gray-300 hover:border-green-600 hover:text-green-600 transition ease-in-out"
								>
									<svg
										xmlns="http://www.w3.org/2000/svg"
										class="icon icon-tabler icon-tabler-brand-instagram"
										width="16"
										height="16"
										viewBox="0 0 24 24"
										stroke-width="1.5"
										stroke="currentColor"
										fill="none"
										stroke-linecap="round"
										stroke-linejoin="round"
									>
										<path stroke="none" d="M0 0h24v24H0z" fill="none" />
										<path d="M4 4m0 4a4 4 0 0 1 4 -4h8a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-8a4 4 0 0 1 -4 -4z" />
										<path d="M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" />
										<path d="M16.5 7.5l0 .01" />
									</svg>
								</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
</footer>
<!-- buy now template button
Remove if you do not want.
-->

 <!-- Modal -->
<div class="modal fade" id="quickViewModal" tabindex="-1" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered lg:min-w-[1140px]">
		<div class="modal-content">
			<div class="modal-body p-8">
				<div class="absolute top-0 right-0 p-3">
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
						<svg
							xmlns="http://www.w3.org/2000/svg"
							class="icon icon-tabler icon-tabler-x text-gray-700"
							width="24"
							height="24"
							viewBox="0 0 24 24"
							stroke-width="2"
							stroke="currentColor"
							fill="none"
							stroke-linecap="round"
							stroke-linejoin="round"
						>
							<path stroke="none" d="M0 0h24v24H0z" fill="none" />
							<path d="M18 6l-12 12" />
							<path d="M6 6l12 12" />
						</svg>
					</button>
				</div>
				<div class="flex flex-wrap">
					<div class="md:w-1/2">
						<!-- img slide -->
						<div class="product productModal" id="productModal">
							<div class="zoom" onmousemove="zoom(event)" style="background-image: url(assets/images/products/product-single-img-1.jpg)">
								<!-- img -->
								<!-- img -->
								<img src="assets/images/products/product-single-img-1.jpg" alt="" />
							</div>
							<div>
								<div class="zoom" onmousemove="zoom(event)" style="background-image: url(assets/images/products/product-single-img-2.jpg)">
									<!-- img -->
									<img src="assets/images/products/product-single-img-2.jpg" alt="" />
								</div>
							</div>
							<div>
								<div class="zoom" onmousemove="zoom(event)" style="background-image: url(assets/images/products/product-single-img-3.jpg)">
									<!-- img -->
									<img src="assets/images/products/product-single-img-3.jpg" alt="" />
								</div>
							</div>
							<div>
								<div class="zoom" onmousemove="zoom(event)" style="background-image: url(assets/images/products/product-single-img-4.jpg)">
									<!-- img -->
									<img src="assets/images/products/product-single-img-4.jpg" alt="" />
								</div>
							</div>
						</div>
						<!-- product tools -->
						<div class="product-tools">
							<div class="thumbnails flex gap-3" id="productModalThumbnails">
								<div class="w-1/4">
									<div class="thumbnails-img">
										<!-- img -->
										<img src="assets/images/products/product-single-img-1.jpg" alt="" />
									</div>
								</div>
								<div class="w-1/4">
									<div class="thumbnails-img">
										<!-- img -->
										<img src="assets/images/products/product-single-img-2.jpg" alt="" />
									</div>
								</div>
								<div class="w-1/4">
									<div class="thumbnails-img">
										<!-- img -->
										<img src="assets/images/products/product-single-img-3.jpg" alt="" />
									</div>
								</div>
								<div class="w-1/4">
									<div class="thumbnails-img">
										<!-- img -->
										<img src="assets/images/products/product-single-img-4.jpg" alt="" />
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="md:w-1/2 pr-4 pl-4">
						<div class="lg:pl-10 mt-6 md:mt-0">
							<div class="flex flex-col gap-4">
								<!-- content -->
								<a href="#!" class="block text-green-600">Bakery Biscuits</a>
								<!-- heading -->
								<h1>Napolitanke Ljesnjak</h1>
								<div class="flex flex-col gap-2">
									<div class="flex items-center">
										<!-- rating -->
										<!-- rating -->
										<small class="text-yellow-500 inline-flex items-center">
											<svg
												xmlns="http://www.w3.org/2000/svg"
												class="icon icon-tabler icon-tabler-star-filled"
												width="14"
												height="14"
												viewBox="0 0 24 24"
												stroke-width="2"
												stroke="currentColor"
												fill="none"
												stroke-linecap="round"
												stroke-linejoin="round"
											>
												<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
												<path
													d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"
													stroke-width="0"
													fill="currentColor"
												></path>
											</svg>
											<svg
												xmlns="http://www.w3.org/2000/svg"
												class="icon icon-tabler icon-tabler-star-filled"
												width="14"
												height="14"
												viewBox="0 0 24 24"
												stroke-width="2"
												stroke="currentColor"
												fill="none"
												stroke-linecap="round"
												stroke-linejoin="round"
											>
												<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
												<path
													d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"
													stroke-width="0"
													fill="currentColor"
												></path>
											</svg>
											<svg
												xmlns="http://www.w3.org/2000/svg"
												class="icon icon-tabler icon-tabler-star-filled"
												width="14"
												height="14"
												viewBox="0 0 24 24"
												stroke-width="2"
												stroke="currentColor"
												fill="none"
												stroke-linecap="round"
												stroke-linejoin="round"
											>
												<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
												<path
													d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"
													stroke-width="0"
													fill="currentColor"
												></path>
											</svg>
											<svg
												xmlns="http://www.w3.org/2000/svg"
												class="icon icon-tabler icon-tabler-star-filled"
												width="14"
												height="14"
												viewBox="0 0 24 24"
												stroke-width="2"
												stroke="currentColor"
												fill="none"
												stroke-linecap="round"
												stroke-linejoin="round"
											>
												<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
												<path
													d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"
													stroke-width="0"
													fill="currentColor"
												></path>
											</svg>
											<svg
												xmlns="http://www.w3.org/2000/svg"
												class="icon icon-tabler icon-tabler-star-filled"
												width="14"
												height="14"
												viewBox="0 0 24 24"
												stroke-width="2"
												stroke="currentColor"
												fill="none"
												stroke-linecap="round"
												stroke-linejoin="round"
											>
												<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
												<path
													d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z"
													stroke-width="0"
													fill="currentColor"
												></path>
											</svg>
										</small>
										<a href="#" class="text-green-600">(30 reviews)</a>
									</div>
									<div class="text-md">
										<span class="text-gray-900 font-semibold">$18</span>
										<span class="line-through text-gray-500">$24</span>

										<span><small class="text-red-600">26% Off</small></span>
									</div>
								</div>
								<!-- hr -->
								<div class="flex flex-col gap-6">
									<hr />
									<div>
										<button
											type="button"
											class="btn inline-flex items-center gap-x-2 bg-white text-gray-800 border-gray-300 border disabled:opacity-50 disabled:pointer-events-none hover:text-white hover:bg-gray-700 hover:border-gray-700 active:bg-gray-700 active:border-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-300"
										>
											250g
										</button>
										<!-- btn -->
										<button
											type="button"
											class="btn inline-flex items-center gap-x-2 bg-white text-gray-800 border-gray-300 border disabled:opacity-50 disabled:pointer-events-none hover:text-white hover:bg-gray-700 hover:border-gray-700 active:bg-gray-700 active:border-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-300"
										>
											500g
										</button>
										<!-- btn -->
										<button
											type="button"
											class="btn inline-flex items-center gap-x-2 bg-white text-gray-800 border-gray-300 border disabled:opacity-50 disabled:pointer-events-none hover:text-white hover:bg-gray-700 hover:border-gray-700 active:bg-gray-700 active:border-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-300"
										>
											1kg
										</button>
									</div>
									<div>
										<!-- input -->
										<div class="w-1/3 md:w-1/4 lg:w-1/5">
											<!-- input -->
											<div class="input-group input-spinner rounded-lg flex justify-between items-center">
												<input type="button" value="-" class="button-minus w-8 py-1 border-r cursor-pointer border-gray-300" data-field="quantity" />
												<input type="number" step="1" max="10" value="1" name="quantity" class="quantity-field w-9 px-2 text-center h-7 border-0 bg-transparent" />
												<input type="button" value="+" class="button-plus w-8 py-1 border-l cursor-pointer border-gray-300" data-field="quantity" />
											</div>
										</div>
									</div>
									<div class="flex flex-wrap justify-start gap-2 items-center">
										<div class="lg:w-1/3 md:w-2/5 w-full grid">
											<!-- button -->
											<!-- btn -->
											<button
												type="button"
												class="btn bg-green-600 text-white border-green-600 disabled:opacity-50 disabled:pointer-events-none hover:text-white hover:bg-green-700 hover:border-green-700 active:bg-green-700 active:border-green-700 focus:outline-none focus:ring-4 focus:ring-green-300 justify-center"
											>
												<svg
													xmlns="http://www.w3.org/2000/svg"
													class="icon icon-tabler icon-tabler-plus mr-2"
													width="12"
													height="12"
													viewBox="0 0 24 24"
													stroke-width="3"
													stroke="currentColor"
													fill="none"
													stroke-linecap="round"
													stroke-linejoin="round"
												>
													<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
													<path d="M12 5l0 14"></path>
													<path d="M5 12l14 0"></path>
												</svg>
												Add to cart
											</button>
										</div>
										<div class="md:w-1/3 w-full">
											<!-- btn -->
											<a
												href="#"
												class="mr-1 btn inline-flex items-center gap-x-2 px-0 h-10 w-10 justify-center bg-white text-gray-800 border-gray-300 border disabled:opacity-50 disabled:pointer-events-none hover:text-white hover:bg-gray-700 hover:border-gray-700 active:bg-gray-700 active:border-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-300"
											>
												<svg
													xmlns="http://www.w3.org/2000/svg"
													class="icon icon-tabler icon-tabler-arrows-exchange"
													width="20"
													height="20"
													viewBox="0 0 24 24"
													stroke-width="2"
													stroke="currentColor"
													fill="none"
													stroke-linecap="round"
													stroke-linejoin="round"
												>
													<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
													<path d="M7 10h14l-4 -4"></path>
													<path d="M17 14h-14l4 4"></path>
												</svg>
											</a>
											<a
												href="#"
												class="btn inline-flex items-center gap-x-2 px-0 h-10 w-10 justify-center bg-white text-gray-800 border-gray-300 border disabled:opacity-50 disabled:pointer-events-none hover:text-white hover:bg-gray-700 hover:border-gray-700 active:bg-gray-700 active:border-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-300"
											>
												<svg
													xmlns="http://www.w3.org/2000/svg"
													class="icon icon-tabler icon-tabler-heart"
													width="20"
													height="20"
													viewBox="0 0 24 24"
													stroke-width="2"
													stroke="currentColor"
													fill="none"
													stroke-linecap="round"
													stroke-linejoin="round"
												>
													<path stroke="none" d="M0 0h24v24H0z" fill="none" />
													<path d="M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572" />
												</svg>
											</a>
										</div>
									</div>
									<!-- hr -->
									<hr />
								</div>
								<div>
									<!-- table -->
									<table class="text-left w-full">
										<tbody>
											<tr>
												<td class="px-6 py-3">Product Code:</td>
												<td class="px-6 py-3">FBB00255</td>
											</tr>
											<tr>
												<td class="px-6 py-3">Availability:</td>
												<td class="px-6 py-3">In Stock</td>
											</tr>
											<tr>
												<td class="px-6 py-3">Type:</td>
												<td class="px-6 py-3">Fruits</td>
											</tr>
											<tr>
												<td class="px-6 py-3">Shipping:</td>
												<td class="px-6 py-3">
													<small>
														01 day shipping.
														<span class="text-gray-700">( Free pickup today)</span>
													</small>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
								<div>
									<!-- dropdown -->
									<div class="relative">
										<a
											class="dropdown-toggle btn inline-flex items-center gap-x-2 bg-white text-gray-800 border-gray-300 border disabled:opacity-50 disabled:pointer-events-none hover:text-white hover:bg-gray-700 hover:border-gray-700 active:bg-gray-700 active:border-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-300"
											href="#"
											role="button"
											data-bs-toggle="dropdown"
											aria-expanded="false"
										>
											Share
										</a>

										<ul class="dropdown-menu">
											<li>
												<a class="dropdown-item" href="#">
													<svg
														xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-brand-facebook inline-block"
														width="18"
														height="18"
														viewBox="0 0 24 24"
														stroke-width="2"
														stroke="currentColor"
														fill="none"
														stroke-linecap="round"
														stroke-linejoin="round"
													>
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path d="M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3" />
													</svg>
													Facebook
												</a>
											</li>
											<li>
												<a class="dropdown-item" href="#">
													<svg
														xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-brand-x"
														width="18"
														height="18"
														viewBox="0 0 24 24"
														stroke-width="2"
														stroke="currentColor"
														fill="none"
														stroke-linecap="round"
														stroke-linejoin="round"
													>
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path d="M4 4l11.733 16h4.267l-11.733 -16z" />
														<path d="M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772" />
													</svg>
													Twitter
												</a>
											</li>
											<li>
												<a class="dropdown-item" href="#">
													<svg
														xmlns="http://www.w3.org/2000/svg"
														class="icon icon-tabler icon-tabler-brand-instagram"
														width="18"
														height="18"
														viewBox="0 0 24 24"
														stroke-width="2"
														stroke="currentColor"
														fill="none"
														stroke-linecap="round"
														stroke-linejoin="round"
													>
														<path stroke="none" d="M0 0h24v24H0z" fill="none" />
														<path d="M4 4m0 4a4 4 0 0 1 4 -4h8a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-8a4 4 0 0 1 -4 -4z" />
														<path d="M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" />
														<path d="M16.5 7.5l0 .01" />
													</svg>
													Instagram
												</a>
											</li>
										</ul>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

	<script src="assets/libs/nouislider/dist/nouislider.min.js"></script>
	<script src="assets/libs/wnumb/wNumb.min.js"></script>
	<script src="assets/libs/tiny-slider/dist/min/tiny-slider.js"></script>
	<script src="assets/js/vendors/tns-slider.js"></script>
	<script src="assets/js/vendors/language.js"></script>
	<script src="assets/js/vendors/zoom.js"></script>
	<!-- Libs JS -->
<script src="assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="assets/libs/simplebar/dist/simplebar.min.js"></script>

<!-- Theme JS -->






<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


<script>
async function filterProductsByCategory() {
  const category = document.getElementById("categorySelect").value;

  const res = await fetch(`/filter-products?category=${category}`);
  const data = await res.json();

  const container = document.getElementById("productContainer");
  container.innerHTML = "";

  data.products.forEach(p => {
    container.innerHTML += `
      <div class="p-4 border rounded">
        <h3>${p.name}</h3>
        <p>‚Çπ ${p.price}</p>
      </div>
    `;
  });

  // HIDE PAGINATION WHEN FILTER APPLIED
  document.getElementById("paginationBox")?.classList.add("hidden");
}

const paginationBox = document.getElementById("paginationBox");
const filtersBox = document.getElementById("filtersBox");

// HIDE pagination when user clicks ANYWHERE inside filter section
filtersBox.addEventListener("click", () => {
  paginationBox?.classList.add("hidden");
});

// HIDE pagination when a filter value changes
filtersBox.addEventListener("change", () => {
  paginationBox?.classList.add("hidden");
});


document.addEventListener("DOMContentLoaded", () => {
  const maxSlider = document.getElementById("maxPriceRange");
  const priceRangeValue = document.getElementById("priceRangeValue");
  const filterBtn = document.getElementById("filterPriceBtn");
  const categorySelect = document.getElementById("categorySelect");
  const products = Array.from(document.querySelectorAll(".product-card"));

  function updatePriceText() {
    priceRangeValue.innerText = `0 - ‚Çπ${maxSlider.value}`;
  }

  function applyPriceFilter() {
    const max = parseFloat(maxSlider.value);
    const selectedCategory = categorySelect.value;

    products.forEach(p => {
      const price = parseFloat(p.dataset.price);
      const matchCategory = selectedCategory === "all" || p.dataset.category === selectedCategory;

      if(price <= max && matchCategory){
        p.style.display = "block";
        p.style.opacity = 0;
        setTimeout(() => { p.style.opacity = 1; }, 50);
      } else {
        p.style.opacity = 0;
        setTimeout(() => { p.style.display = "none"; }, 300);
      }
    });
  }

  maxSlider.addEventListener("input", updatePriceText);
  filterBtn.addEventListener("click", applyPriceFilter);
  categorySelect.addEventListener("change", applyPriceFilter);

  updatePriceText();
});



// =========================
// Sorting Buttons
// =========================

document.querySelectorAll(".filter-btn").forEach(btn => {
  btn.addEventListener("click", () => {
    const sortType = btn.dataset.sort;
    const products = Array.from(document.querySelectorAll(".product-card"));

    // Always get current category
    const selectedCategory = document.getElementById("categorySelect").value;

    // Filter by category first
    let filtered = selectedCategory === "all" ? products : products.filter(p => p.dataset.category === selectedCategory);

    let sorted = [];

    if(sortType === "popularity"){
      sorted = filtered
        .sort((a,b) => parseFloat(b.dataset.price) - parseFloat(a.dataset.price))
        .slice(0,4);
    } 
    else if(sortType === "ratings"){
      sorted = filtered
        .sort((a,b) => parseFloat(a.dataset.price) - parseFloat(b.dataset.price))
        .slice(0,3);
    }
    else if(sortType === "new"){
      sorted = filtered
        .sort((a,b) => new Date(b.dataset.created) - new Date(a.dataset.created))
        .slice(0,3);
    }
    else if(sortType === "featured"){
      sorted = filtered
        .sort((a,b) => new Date(b.dataset.added) - new Date(a.dataset.added))
        .slice(0,3);
    }

    // Hide all products first
    products.forEach(p => p.style.display = "none");

    // Show only sorted products
    sorted.forEach(p => p.style.display = "block");
  })
})










function filterProductsByCategory() {
  const select = document.getElementById('categorySelect');
  const selectedCategory = select.value;
  const products = document.querySelectorAll('.product-card');
  let anyVisible = false;

  products.forEach(product => {
    if(selectedCategory === "all" || product.dataset.category === selectedCategory){
      product.style.display = "block"
      anyVisible = true;
    } else {
      product.style.display = "none"
    }
  });

  if(!anyVisible){
    Swal.fire({
      icon: 'info',
      title: 'Oops!',
      text: 'No products available in this category',
      confirmButtonColor: '#22c55e'
    });
  }
}






const sortSelect = document.getElementById('sortSelect');

sortSelect.addEventListener('change', function() {
  const value = this.value;

  const productContainer = document.querySelector('.grid'); // container of cards
  const products = Array.from(productContainer.querySelectorAll('.card-product'));

  let sortedProducts = [];

  if (value === 'lowToHigh') {
    sortedProducts = products.sort((a, b) => parseFloat(a.dataset.price) - parseFloat(b.dataset.price));
  } else if (value === 'highToLow') {
    sortedProducts = products.sort((a, b) => parseFloat(b.dataset.price) - parseFloat(a.dataset.price));
  } else if (value === 'nameAToZ') {
    sortedProducts = products.sort((a, b) => a.dataset.name.toLowerCase().localeCompare(b.dataset.name.toLowerCase()));
  } else if (value === 'nameZToA') {
    sortedProducts = products.sort((a, b) => b.dataset.name.toLowerCase().localeCompare(a.dataset.name.toLowerCase()));
  }

  // Clear container and append sorted cards
  productContainer.innerHTML = '';
  sortedProducts.forEach(card => productContainer.appendChild(card));
});

//const searchInput = document.getElementById("searchProducts");


// const searchInput = document.getElementById("searchProducts");
// const searchBtn = document.getElementById("searchBtn");
// const categorySelect = document.getElementById("categorySelect"); // category dropdown
// const productsTableBody = document.querySelector("#productsTable tbody");
// const resultsList = document.getElementById("searchResults");

// let timeout = null;

// // üîç Search Button Click ‚Äî fetch products and show in table
// searchBtn.addEventListener("click", async () => {
//   const query = searchInput.value.trim();
//   const selectedCategory = categorySelect ? categorySelect.value : "all";

//   if (!query) {
//     Swal.fire({ icon: 'warning', title: 'Oops...', text: 'Please enter product name!' });
//     return;
//   }

//   try {
//     const url = `/search-products?query=${encodeURIComponent(query)}&category=${selectedCategory}`;
//     const res = await fetch(url);
//     const data = await res.json();

//     // Clear table
//     productsTableBody.innerHTML = '';

//     if (!data || data.length === 0) {
//       productsTableBody.innerHTML = `
//         <tr>
//           <td colspan="4" class="text-center py-4 text-gray-500">
//             No products starting with "${query}" in this category
//           </td>
//         </tr>
//       `;
//       return;
//     }

//     // Render products in table
//     data.forEach(prod => {
//       const tr = document.createElement('tr');
//       tr.innerHTML = `
//         <td>${prod.name}</td>
//         <td>${prod.category ? prod.category.name || '-' : '-'}</td>
//         <td>${prod.price}</td>
//         <td>${prod.quantity || 0}</td>
//       `;
//       productsTableBody.appendChild(tr);
//     });

//   } catch (err) {
//     console.error(err);
//     Swal.fire({ icon: 'error', title: 'Server Error', text: 'Try again later.' });
//   }
// });

// // Live Search Suggestion (with debounce)
// searchInput.addEventListener("input", () => {
//   const query = searchInput.value.trim();
//   const selectedCategory = categorySelect ? categorySelect.value : "all";

//   if (timeout) clearTimeout(timeout);

//   timeout = setTimeout(async () => {
//     if (query.length === 0) {
//       resultsList.innerHTML = '';
//       resultsList.classList.add('hidden');
//       return;
//     }

//     try {
//       const url = `/search-products?query=${encodeURIComponent(query)}&category=${selectedCategory}`;
//       const res = await fetch(url);
//       const data = await res.json();

//       resultsList.innerHTML = '';

//       if (!data || data.length === 0) {
//         resultsList.classList.add('hidden');
//         return;
//       }

//       data.forEach(product => {
//         const li = document.createElement('li');
//         li.textContent = product.name;
//         li.className = 'px-3 py-2 cursor-pointer hover:bg-gray-100';
//         li.addEventListener('click', () => {
//           window.location.href = `/product/${product._id}`;
//         });
//         resultsList.appendChild(li);
//       });

//       resultsList.classList.remove('hidden');
//     } catch (err) {
//       console.error(err);
//       Swal.fire({ icon: 'error', title: 'Server Error', text: 'Try again later' });
//     }
//   }, 300);
// });

// // Hide suggestions if click outside
// document.addEventListener('click', e => {
//   if (!resultsList.contains(e.target) && e.target !== searchInput) {
//     resultsList.classList.add('hidden');
//   }
// });

// // Small delay to allow clicking suggestion before hiding
// searchInput.addEventListener('blur', () => {
//   setTimeout(() => {
//     resultsList.classList.add('hidden');
//   }, 200);
// });


// const searchInput = document.getElementById("searchProducts");
// const searchBtn = document.getElementById("searchBtn");
// const resultsList = document.getElementById("searchResults");

// let timeout = null;
// let isSearching = false; 

// searchBtn.addEventListener("click", async (e) => {
//   e.preventDefault(); 
  
//   const query = searchInput.value.trim();
//   if (!query) {
//     Swal.fire({ icon: 'warning', title: 'Oops...', text: 'Please enter product name!' });
//     return;
//   }

//   resultsList.classList.add('hidden');
//   isSearching = true;
//   window.location.href = `/shop?query=${encodeURIComponent(query)}`;
// });

// searchInput.addEventListener("input", () => {

//   if (isSearching) return;

//   const query = searchInput.value.trim();
  
//   if (timeout) clearTimeout(timeout);

//   timeout = setTimeout(async () => {
//     if (query.length < 2) {
//       resultsList.innerHTML = '';
//       resultsList.classList.add('hidden');
//       return;
//     }

//     try {
//       const res = await fetch(`/search-products?query=${encodeURIComponent(query)}`);
//       const data = await res.json();

//       resultsList.innerHTML = '';

//       if (data.length === 0) {
//         resultsList.classList.add('hidden');
//         return;
//       }

//       data.slice(0, 6).forEach(product => {
//         const li = document.createElement('li');
//         li.innerHTML = `
//           <div class="px-4 py-3 hover:bg-gray-50 cursor-pointer group">
//             <div class="font-medium text-gray-900 group-hover:text-green-600">${product.name}</div>
          
//           </div>
//         `;
//         li.addEventListener('click', () => {
//           window.location.href = `/product/${product._id}`;
//         });
//         resultsList.appendChild(li);
//       });

//       resultsList.classList.remove('hidden');
//     } catch (err) {
//       console.error(err);
//       resultsList.classList.add('hidden');
//     }
//   }, 300);
// });

// document.addEventListener('click', (e) => {
//   if (!resultsList.contains(e.target) && e.target !== searchInput) {
//     resultsList.classList.add('hidden');
//   }
// });

// searchInput.addEventListener('keypress', (e) => {
//   if (e.key === 'Enter') {
//     searchBtn.click(); 
//   }
// });





document.addEventListener('DOMContentLoaded', function () {

  const searchInput = document.getElementById("searchProducts");
  const searchBtn = document.getElementById("searchBtn");
  const resultsList = document.getElementById("searchResults");

  let timeout = null;
  let isSearching = false;

  const params = new URLSearchParams(window.location.search);
  const existingQuery = params.get("query");
  if (existingQuery) {
    searchInput.value = existingQuery;
  }

  searchBtn.addEventListener("click", async (e) => {
    e.preventDefault();

    const query = searchInput.value.trim();
    if (!query) {
      Swal.fire({
        icon: 'warning',
        title: 'Oops...',
        text: 'Please enter product name!'
      });
      return;
    }

    resultsList.classList.add('hidden');
    isSearching = true;

    window.location.href = `/shop?query=${encodeURIComponent(query)}`;
  })

  searchInput.addEventListener("input", () => {

    if (isSearching) return;

    const query = searchInput.value.trim();
    if (timeout) clearTimeout(timeout);

    timeout = setTimeout(async () => {

      if (query.length < 2) {
        resultsList.innerHTML = '';
        resultsList.classList.add('hidden');
        return;
      }

      try {
        const res = await fetch(`/search-products?query=${encodeURIComponent(query)}`);
        const data = await res.json();

        resultsList.innerHTML = '';

        if (!data || data.length === 0) {
          resultsList.classList.add('hidden');
          return;
        }

        data.slice(0, 6).forEach(product => {
          const li = document.createElement('li');
          li.innerHTML = `
            <div class="px-4 py-3 hover:bg-gray-50 cursor-pointer group">
              <div class="font-medium text-gray-900 group-hover:text-green-600">
                ${product.name}
              </div>
            </div>
          `;
          li.addEventListener('click', () => {
            window.location.href = `/product/${product._id}`;
          });
          resultsList.appendChild(li);
        });

        resultsList.classList.remove('hidden');

      } catch (err) {
        console.error(err);
        resultsList.classList.add('hidden');
      }

    }, 300);
  });

  // =========================================
  // CLICK OUTSIDE ‚Üí HIDE SUGGESTIONS
  // =========================================
  document.addEventListener('click', (e) => {
    if (!resultsList.contains(e.target) && e.target !== searchInput) {
      resultsList.classList.add('hidden');
    }
  });

  // =========================================
  // ENTER KEY SEARCH
  // =========================================
  searchInput.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') {
      e.preventDefault();
      searchBtn.click();
    }
  });

});






document.addEventListener("DOMContentLoaded", () => {

  // =========================
  // Dropdown toggle & click outside to close (only if logged in)
  // =========================
  const btn = document.getElementById("userDropdownBtn");
  const dropdown = document.getElementById("userDropdown");

  if(btn && dropdown) {
    // Toggle dropdown on button click
    btn.addEventListener("click", (e) => {
      e.stopPropagation();
      dropdown.classList.toggle("hidden");
    });

    // Close dropdown on clicking outside
    window.addEventListener("click", (e) => {
      if(!btn.contains(e.target) && !dropdown.contains(e.target)){
        dropdown.classList.add("hidden");
      }
    });
  }

  // =========================
  // Logout SweetAlert confirmation
  // =========================
  const logoutForm = document.getElementById("logoutForm");
  if(logoutForm){
    logoutForm.addEventListener("submit", function(e) {
      e.preventDefault();
      Swal.fire({
        title: 'Are you sure?',
        text: "You will be logged out!",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Yes, logout!'
      }).then((result) => {
        if (result.isConfirmed) {
          logoutForm.submit();
        }
      });
    });
  }

  // =========================
  // Login form with SweetAlert & POST
  // =========================
  const loginForm = document.getElementById("loginForm");
  if(loginForm){
    loginForm.addEventListener("submit", async (e) => {
      e.preventDefault();

      const email = document.getElementById("email").value.trim();
      const password = document.getElementById("password").value.trim();

      if (!email || !password) {
        Swal.fire({ 
          icon: "warning", 
          title: "Oops!", 
          text: "Please enter email and password" 
        });
        return;
      }

      try {
        const res = await fetch("/signin", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ email, password })
        });

        const result = await res.json();

        if (result.success) {
          // Email verification check
          if (!result.user.isVerified) {
            Swal.fire({
              icon: "warning",
              title: "Email Not Verified",
              text: "Please verify your email first."
            });
            return;
          }

          // Blocked user check
          if (result.user.isBlocked) {
            Swal.fire({
              icon: "error",
              title: "Account Blocked",
              text: "Your account is blocked. Contact support."
            });
            return;
          }

          // Correct login -> show success & reload page
          Swal.fire({
            icon: "success",
            title: "Login Successful ",
            text: `Welcome ${result.user.name.split(' ')[0]}!`, // First name only
            confirmButtonColor: "#16a34a"
          }).then(() => {
            window.location.reload(); // reload page to show dropdown with username
          });

        } else {
          Swal.fire({ 
            icon: "error", 
            title: "Login Failed ", 
            text: result.message 
          });
        }

      } catch (err) {
        Swal.fire({ 
          icon: "error", 
          title: "Server Error", 
          text: "Try again later" 
        });
      }
    });
  }

});



</script>
















<script src="assets/js/theme.min.js"></script>

</body>


<!-- Mirrored from freshcart-tailwind.codescandy.com/shop-fullwidth.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 26 Dec 2024 13:19:05 GMT -->
</html>